<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head th:replace="fragments.html :: head"></head>

<body class="bg-light">

<nav th:replace="fragments.html :: main-nav"></nav>

    <div class="py-5 text-center" sec:authorize="isAuthenticated()" th:if="${error}" >
        <p class="lead">이메일을 보냈으니 계정 인증 이메일을 확인하세요</p>
        <div class="alert alert-danger" role="alert">
            <a th:href="@{/resend-email(name=${#authentication.name})}">이메일 다시보내기</a>
        </div>
    </div>



<div class="py-5 text-center" th:if="${error}" sec:authorize="!isAuthenticated()">
        <p class="lead">이메일 확인</p>
        <div class="alert alert-danger" role="alert">
            이메일 확인 링크가 정확하지 않습니다.
        </div>
    </div>

    <div class="py-5 text-center" th:if="${error == null}">
        <p class="lead">이메일 확인</p>
        <h2>
            이메일을 확인했습니다. <span th:text="${numberOfUser}"></span>번째 회원,
            <span th:text="${nickname}"></span>님 가입을 축하합니다.<br>

            <small class="text-info">이제부터 가입할 때 사용한 이메일 또는 닉네임과 패스워드로 로그인 할 수 있습니다.</small>
        </h2>
    </div>

</body>
</html>